    <!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

        <title>Lazy Load Meshes</title>

        <!-- Babylon.js -->
        <script src="https://cdn.babylonjs.com/babylon.js"></script>
        <script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
        <script src="https://code.jquery.com/pep/0.4.3/pep.js"></script>


        <style>
            html, body {
                overflow: hidden;
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }

            #renderCanvas {
                width: 100%;
                height: 100%;
                touch-action: none;
            }
        </style>
    </head>
<body>
    <canvas id="renderCanvas"></canvas>

    <script>

var createScene = async function () {
    // This creates a basic Babylon Scene object (non-mesh)
    var scene = new BABYLON.Scene(engine);
    scene.clearColor = new BABYLON.Color3(0, 0, 0);
    // This creates and positions a free camera (non-mesh)
    var camera = new BABYLON.UniversalCamera("camera1", new BABYLON.Vector3(-10, 2.3, -5), scene);
    // This targets the camera to scene origin
    camera.setTarget(BABYLON.Vector3.Zero());

    // This attaches the camera to the canvas
    camera.attachControl(true);

    // // This creates a light, aiming 0,1,0 - to the sky (non-mesh)
    var light = new BABYLON.HemisphericLight("light", new BABYLON.Vector3(0, 1, 0), scene);

    var mat = new BABYLON.StandardMaterial("mat", scene);
    var texture = new BABYLON.Texture("https://storage.googleapis.com/chrisyoung-io/assets/img/building_net_1_b.png", scene);
    mat.diffuseTexture = texture;
    mat.freeze();

    const box = BABYLON.MeshBuilder.CreateBox("box",
    {height: 3, width: 1, depth: 1,
    faceUV:[new BABYLON.Vector4(.25, 1, 0, .29), // reverse side
            new BABYLON.Vector4(.0, .29, .25, 1), // side
            new BABYLON.Vector4(.2, .2, .2, .2), // ???
            new BABYLON.Vector4(1, 1, .275, .75),   // A side
            new BABYLON.Vector4(0, 0, .2, .2),  // top
            new BABYLON.Vector4(1, .2, 0, 0)]});
    box.material = mat;
    box.position = new BABYLON.Vector3(2, 1.5, 0);
    scene.blockMaterialDirtyMechanism = true;

    const env = scene.createDefaultEnvironment();

    const zones = [
        ["1a", "1b", "1c", "1d", "1e", "1f"],
        ["2a", "2b", "2c", "2d", "2e", "2f"],
        ["3a", "3b", "3c", "3d", "3e", "3f"],
        ["4a", "4b", "4c", "4d", "4e", "4f"],
        ["5a", "5b", "5c", "5d", "5e", "5f"],
        ["6a", "6b", "6c", "6d", "6e", "6f"],
        ["7a", "7b", "7c", "7d", "7e", "7f"],
        ["8a", "8b", "8c", "8d", "8e", "8f"],
        ["9a", "9b", "9c", "9d", "9e", "9f"],
        ["Aa", "Ab", "Ac", "Ad", "Ae", "Af"],
        ["Ba", "Bb", "Bc", "Bd", "Be", "Bf"],
        ["Ca", "Cb", "Cc", "Cd", "Ce", "Cf"],
        ["Da", "Db", "Dc", "Dd", "De", "Df"]
    ];
    var x_prev;
    var z_prev;

    scene.registerBeforeRender(function(scene) {

        // Find out where we are
        const pos = scene.activeCamera.position.clone();
        // City gird is broken down into squares (zones)
        const zone_size = 10;
        const mid_point = 5;
        // We want to know which zone (square on the city gird) we are
        const x_pos = Math.floor(pos.x / zone_size) + mid_point;
        const z_pos = Math.floor(pos.z / zone_size) + mid_point;

        if ((x_pos != x_prev) || (z_pos != z_prev)) {
            // Look up what is nearby that we should now show
            console.log(x_pos, z_pos)
            // Check if anything is now out of range and should not be shown
            try {
                console.log(zones[x_pos][z_pos]);
            }
            catch(err) {
              console.log("oh");
            }
            x_prev = x_pos;
            z_prev = z_pos;
        }
    });

    return scene;

};

const canvas = document.getElementById("renderCanvas"); // Get the canvas element
const engine = new BABYLON.Engine(canvas, false, null, false); // Generate the BABYLON 3D engine
// Add your code here matching the playground format
createScene().then(function(scene) {

// Register a render loop to repeatedly render the scene
    engine.runRenderLoop(function () {
            scene.render();
    });
    // Watch for browser/canvas resize events
    window.addEventListener("resize", function () {
            engine.resize();


    });

}); //Call the createScene function

    </script>

</body>
</html>
